#!/bin/bash

set -euo pipefail

cname=gui
run="toolbox run --container $cname"

copr_i3status_rs="atim/i3status-rust"

packages=(
  # sway things:
  # wdisplays needs libGLESv2 which in fedora is found in libglvnd-gles:
  wdisplays libglvnd-gles wf-recorder

  # misc things:
  i3status-rust pavucontrol gkrellm zenity obs-studio
)


function create_toolbox {
  (
    set -x
    toolbox create $cname 2>/dev/null
    # $run sudo dnf install -y "${dependencies[@]}"
  ) || true
}

create_toolbox

set -x

$run sudo dnf copr enable -y $copr_i3status_rs

$run sudo dnf install -y "${packages[@]}"
