
# xorg.conf (X.Org X Window System server configuration file)
#
# This file was generated by dexconf, the Debian X Configuration tool, using
# values from the debconf database.
#
# Edit this file with caution, and see the xorg.conf manual page.
# (Type "man xorg.conf" at the shell prompt.)
#
# This file is automatically updated on xserver-xorg package upgrades *only*
# if it has not been modified since the last upgrade of the xserver-xorg
# package.
#
# Note that some configuration settings that could be done previously
# in this file, now are automatically configured by the server and settings
# here are ignored.
#
# If you have edited this file but would like it to be automatically updated
# again, run the following command:
#   sudo dpkg-reconfigure -phigh xserver-xorg

##############################################################################
# VGA start
##############################################################################

# First monitor is the internal.

Section "Monitor"
  Identifier  "LVDS Mon"
  Option "Ignore" "true"
EndSection

Section "Screen"
  Identifier "LVDS Screen"
  Monitor    "LVDS Mon"
  Device     "Intel Dev"
  # Displaylink doesn't like 24 bit depth:
  DefaultDepth  16
  SubSection "Display"
  EndSubSection
EndSection

# Second monitor is the external.

Section "Monitor"
  Identifier  "VGA Mon"
EndSection

Section "Screen"
  Identifier "VGA Screen"
  Monitor    "VGA Mon"
  Device     "Intel Dev"
  # Displaylink doesn't like 24 bit depth:
  DefaultDepth    16
  SubSection "Display"
    Modes   "1920x1080"
  EndSubSection
EndSection

# Device + layout:

Section "Device"
  Identifier  "Intel Dev"
  Driver    "intel"

  # Without these X will be confused:
  Option "monitor-LVDS1" "Internal Mon"
  Option "monitor-VGA1" "VGA Mon"
EndSection

# Section "ServerLayout"
#   Identifier  "Single Intel Layout"
#   Screen    0 "LVDS Screen"
#   Screen    1 "VGA Screen" 0 0
# EndSection

##############################################################################
# Displaylink start
##############################################################################

Section "Device"
  Identifier "DisplayLinkDevice"
  Driver     "displaylink"
  Option     "fbdev" "/dev/fb1"
EndSection

Section "Monitor"
  Identifier  "DisplayLinkMonitor"
EndSection

Section "Screen"
  Identifier      "DisplayLinkScreen"
  Device          "DisplayLinkDevice"
  Monitor         "DisplayLinkMonitor"
  # Displaylink doesn't like 24 bit depth:
  DefaultDepth    16
  SubSection "Display"
    Modes   "1920x1080"
  EndSubSection
EndSection

# Section "ServerLayout"
#   Identifier  "Server Layout"
#   Screen    0 "DisplayLinkScreen" 0 0
# EndSection

##############################################################################
# Displaylink end
##############################################################################

Section "ServerLayout"
  Identifier  "Multihead"
  # DisplayLinkScreen needs to be first:
  Screen    0 "DisplayLinkScreen" 0 0
  Screen    1 "VGA Screen" Below "DisplayLinkScreen"

  # We need to configure the LVDS screen so that the X server will see that we
  # want to disable it.
  Screen    2 "LVDS Screen"
EndSection
